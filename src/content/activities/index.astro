---
import Layout from '../../components/Layout.astro';
import { getCollection } from 'astro:content';

const items = (await getCollection('activities'))
  .sort((a,b)=>(a.data.title||'').localeCompare(b.data.title||''));
const base = import.meta.env.BASE_URL || '/';
---
<Layout title="Activities">
  <h1 class="font-display text-3xl mb-6">Activities</h1>
  {items.length === 0 ? <p class="text-muted">No activities yet.</p> : (
    <ul class="grid gap-4 sm:grid-cols-2 lg:grid-cols-3">
      {items.map(p => {
        const slug = (p.slug ?? p.id).split('/').pop();
        return (
          <li class="border border-fg/20 p-4">
            <a class="font-semibold hover:text-neon" href={`${base}activities/${slug}`}>{p.data.title}</a>
          </li>
        );
      })}
    </ul>
  )}
</Layout>
